@model LibrariansInterface.Models.ViewModels.UnreturnedItemsViewModel;

@{
    ViewData["Title"] = "Unreturned Items";
}

@{
    if (Model.Dtos != null)
    {

        <div class="row">
            <div class="col-lg-5">
                <form asp-action="UnreturnedItems" asp-route-id="Dto.BorrowerID" method="post">
                    <select class="form-control" name="borrowerID" asp-for="Dto.BorrowerID"
                            asp-items="@(new SelectList(Model.Dtos, "BorrowerID", "BorrowerFullName"))" size="@Model.Dtos.Count" onchange="this.form.submit()"></select>
                    <input type="submit" class="btn btn-primary" value="Visa försening" />
                </form>
                
                <a class="btn btn-secondary" asp-controller="Home" asp-action="LoadUnreturnedItemsFromAPI">Hämta samtliga förseningar</a>
            </div>
            @{ if (Model.Dto != null)
                {
                    <div class="col-lg-5">
                        <div class="textbox">
                            <h2>Lånare</h2>
                            <p class="font-weight-bold">LånarID: </p><p id="borrowerID">@Model.Dto.BorrowerID</p>
                            <p class="font-weight-bold">Namn: </p><p id="borrowerFullName">@Model.Dto.BorrowerFullName</p>
                            <p class="font-weight-bold">Email: </p><p id="email">@Model.Dto.Email</p>
                            <p class="font-weight-bold">TelefonNr: </p><p id="phoneNumber">@Model.Dto.PhoneNumber</p>
                            <p class="font-weight-bold">Adress: </p><p id="address">@Model.Dto.Address</p>
                        </div>
                        <div class="textbox">
                            <h2>Lånad bok</h2>
                            <p class="font-weight-bold">Hyll-ID: </p><p id="inventoryID">@Model.Dto.InventoryID</p>
                            <p class="font-weight-bold">Titel: </p><p id="title">@Model.Dto.Title</p>
                            <p class="font-weight-bold">Författare: </p><p id="authorName">@Model.Dto.AuthorName</p>
                            <p class="font-weight-bold">ISBN: </p><p id="isbn">@Model.Dto.Isbn</p>
                        </div>
                    </div>
                }}

        </div>
    }
}